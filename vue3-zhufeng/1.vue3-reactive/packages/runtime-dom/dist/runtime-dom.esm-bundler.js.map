{"version":3,"file":"runtime-dom.esm-bundler.js","sources":["../../shared/src/index.ts","../src/nodeOps.ts","../src/modules/attr.ts","../src/modules/class.ts","../src/modules/events.ts","../src/modules/style.ts","../src/patchProp.ts","../../reactivity/src/effect.ts","../../reactivity/src/baseHandlers.ts","../../reactivity/src/reactive.ts","../../reactivity/src/ref.ts","../../reactivity/src/computed.ts","../../runtime-core/src/vnode.ts","../../runtime-core/src/apiCreateApp.ts","../../runtime-core/src/componentPublicInstance.ts","../../runtime-core/src/component.ts","../../runtime-core/src/scheduler.ts","../../runtime-core/src/renderer.ts","../../runtime-core/src/h.ts","../src/index.ts"],"sourcesContent":["export const isObject = (value) => typeof value == 'object' && value !== null;\nexport const extend = Object.assign\nexport const isArray = Array.isArray;\nexport const isFunction = (value) => typeof value == 'function'\nexport const isNumber = (value) => typeof value == 'number';\nexport const isString = (value) => typeof value === 'string';\nexport const isIntegerKey = (key) => parseInt(key) + '' === key;\n\n\nlet hasOwnpRroperty = Object.prototype.hasOwnProperty;\nexport const hasOwn = (target, key) => hasOwnpRroperty.call(target, key);\n\nexport const hasChanged = (oldValue,value) => oldValue !== value\n\nexport * from './shapeFlag'","export const nodeOps = {\n  createElement: tagName => document.createElement(tagName),\n  remove: child => {// 删除\n      const parent = child.parentNode;\n      if(parent){\n        parent.removeChild(child)\n      }\n  },\n  insert: (child, parent, anchor = null) => {\n    parent.insertBefore(child, anchor); // \n  },\n  querySelector: selector => document.querySelector(selector),\n  setElementText: (el, text) => el.textContent = text,\n  createText: text => document.createTextNode(text),\n  setText: (node, text) => node.nodeValue = text\n}","\n\nexport const patchAttr = (el,key,value) =>{\n  if(value == null){\n      el.removeAttribute(key);\n  }else {\n      el.setAttribute(key,value);\n  }\n}","export const patchClass = (el ,value) => {\n  if(value == null){\n    value = ''\n  }\n  el.className = value\n}\n","export const patchEvent = (el, key, value) => {\n  // 对函数的缓存\n  const invokers = el._vei || (el._vei || {})\n  const exists = invokers[key]; // 如果不存在\n  if(value && exists){ // 更新绑定事件\n    exists.value = value;\n  }else{\n    const eventName = key.slice(2).toLowerCase()\n    if(value){ // 之前没有绑定过现在绑定\n      let invoker = invokers[key] = createInvoker(value);\n       el.addEventListener(eventName,invoker)\n    }else{\n      if(exists){ // 以前绑定了 当时没有value\n        el.removeEventListener(eventName,exists);\n        // invokers[key] = undefined;\n        delete invokers[key]\n      }\n    }\n  }\n}\n\nfunction createInvoker(value) {\n  const invoker = (e) => { invoker.value(e)} \n  invoker.value = value;\n  return invoker\n}","export const patchStyle = (el,prev,next) =>{ // cssText;\n  const style = el.style; //获取样式 \n  if(next == null){\n      el.removeAttribute('style') // {style:{}}  {}\n  }else{\n      // 老的里新的有没有 \n      if(prev){  // {style:{color}} => {style:{background}}\n          for(let key in prev){\n              if(next[key] == null){ // 老的里有 新的里没有 需要删除\n                  style[key] = '';\n              }\n          }\n      }\n      // 新的里面需要赋值到style上\n      for(let key in next){ // {style:{color}} => {style:{background}}\n          style[key] = next[key];\n      }\n  }\n\n}","import { patchAttr } from \"./modules/attr\";\nimport { patchClass } from \"./modules/class\";\nimport { patchEvent } from \"./modules/events\";\nimport { patchStyle } from \"./modules/style\";\n\n// 这个里面针对的是属性操作\nexport const patchProp = (el, key, preValue, nextValue) => {\n  switch (key) {\n    case \"class\":\n      patchClass(el, nextValue); // 比对属性\n      break;\n    case \"style\": // {style:{color:'red'}}  {style:{background:'red'}}\n      patchStyle(el, preValue, nextValue);\n      break;\n    default:\n      // 如果不是事件 才是属性\n      if (/^on[^a-z]/.test(key)) {\n        console.log('??>>>>>>>')\n        patchEvent(el, key, nextValue); // 事件就是添加和删除 修改\n      } else {\n        patchAttr(el, key, nextValue);\n      }\n\n      break;\n  }\n};\n","import { isArray, isIntegerKey } from \"@vue/shared/src\";\nimport { TriggerOrTypes } from \"./operators\";\n\nexport function effect(fn, options: any = {}) {\n    // 我需要让这个effect变成响应的effect，可以做到数据变化重新执行 \n    const effect = createReactiveEffect(fn, options);\n    if (!options.lazy) { // 默认的effect会先执行\n        effect(); // 响应式的effect默认会先执行一次\n    }\n    return effect;\n}\nlet uid = 0;\nlet activeEffect; // 存储当前的effect\nconst effectStack = []\nfunction createReactiveEffect(fn, options) {\n    const effect = function reactiveEffect() {\n        if (!effectStack.includes(effect)) { // 保证effect没有加入到effectStack中\n            try {\n                effectStack.push(effect);\n                activeEffect = effect;\n                return fn(); // 函数执行时会取值  会执行get方法\n            } finally {\n                effectStack.pop();\n                activeEffect = effectStack[effectStack.length - 1];\n            }\n        }\n    }\n    effect.id = uid++; // 制作一个effect标识 用于区分effect\n    effect._isEffect = true; // 用于标识这个是响应式effect\n    effect.raw = fn; // 保留effect对应的原函数\n    effect.options = options; // 在effect上保存用户的属性\n    return effect;\n}\n// 让，某个对象中的属性 收集当前他对应的effect函数\nconst targetMap = new WeakMap();\nexport function track(target, type, key) { // 可以拿到当前的effect\n    //  activeEffect; // 当前正在运行的effect\n    if (activeEffect === undefined) { // 此属性不用收集依赖，因为没在effect中使用\n        return;\n    }\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n        targetMap.set(target, (depsMap = new Map));\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n        depsMap.set(key, (dep = new Set))\n    }\n    if (!dep.has(activeEffect)) {\n        dep.add(activeEffect);\n    }\n}\n\n// 找属性对应的effect 让其执行 （数组、对象）\nexport function trigger(target, type, key?, newValue?, oldValue?) {\n\n    // 如果这个属性没有 收集过effect，那不需要做任何操作\n    const depsMap = targetMap.get(target);\n    if (!depsMap) return;\n\n    const effects = new Set(); // 这里对effect去重了\n    const add = (effectsToAdd) => {\n        if (effectsToAdd) {\n            effectsToAdd.forEach(effect => effects.add(effect));\n        }\n    }\n    // 我要将所有的 要执行的effect 全部存到一个新的集合中，最终一起执行\n\n    // 1. 看修改的是不是数组的长度 因为改长度影响比较大\n    if (key === 'length' && isArray(target)) {\n        // 如果对应的长度 有依赖收集需要更新\n        depsMap.forEach((dep, key) => {\n            if (key === 'length' || key > newValue) { // 如果更改的长度 小于收集的索引，那么这个索引也需要触发effect重新执行\n                add(dep)\n            }\n        })\n    } else {\n        // 可能是对象\n        if (key !== undefined) { // 这里肯定是修改， 不能是新增\n            add(depsMap.get(key)); // 如果是新增\n        }\n        // 如果修改数组中的 某一个索引 怎么办？\n        switch (type) {  // 如果添加了一个索引就触发长度的更新\n            case TriggerOrTypes.ADD:\n                if (isArray(target) && isIntegerKey(key)) {\n                    add(depsMap.get('length'));\n                }\n        }\n    }\n    effects.forEach((effect: any) => {\n        if(effect.options.scheduler){\n            effect.options.scheduler(effect);\n        }else{\n            effect();\n        }\n    })\n}\n// weakMap {name:'zf',age:12}  (map) =>{name => set(effect),age => set(effect)}\n// {name:'zf',age:12} => name => [effect effect]\n\n\n// 函数调用是一个栈型结构\n// effect(()=>{ // effect1   [effect1]\n//     state.name -> effect1\n//     effect(()=>{ // effect2\n//         state.age -> effect2\n//     })\n//     state.address -> effect1\n// })","import { extend, hasChanged, hasOwn, isArray, isIntegerKey, isObject } from \"@vue/shared\"\nimport { track, trigger } from \"./effect\";\nimport { TrackOpTypes, TriggerOrTypes } from \"./operators\";\nimport { reactive, readonly } from \"./reactive\"\n\n// get 逻辑\n// 针对 浅拷贝和readonly 的一些处理，另外是收集依赖\nconst get = createGetter(false, false)\nconst shallowGet = createGetter(false, true)\nconst readonlyGet = createGetter(true);\nconst showllowReadonlyGet = createGetter(true, true)\n\n// set \n// readonly 不能赋值， 另外就是 触发 依赖的 effect\nconst set = createSetter();\nconst shallowSet = createSetter(true)\n\n// \nexport const mutableHandlers =  {\n  get,\n  set\n}\n\nexport const shallowReactiveHandlers =  {\n  get: shallowGet,\n  set: shallowSet\n}\n\nlet readonlyObj = {\n  set: (target, key) => {\n      console.warn(`set on key ${key} falied`)\n  }\n}\nexport const readonlyHandlers = extend({\n  get: readonlyGet,\n}, readonlyObj)\nexport const shallowReadonlyHandlers = extend({\n  get: showllowReadonlyGet,\n}, readonlyObj)\n\nfunction createGetter( isReadonly = false, shallow = false) {\n  // 这个最好返回箭头函数\n  return function get(target, key, receiver) {\n    const res = Reflect.get(target, key, receiver);\n    if(!isReadonly){\n        // 执行 收集依赖\n        track(target,TrackOpTypes.GET,key)\n    }\n    // 浅拷贝\n    if(shallow) {\n      return res\n    }\n    if(isObject(res)){\n      return isReadonly ? readonly(res) : reactive(res)\n    }\n    return res\n  } \n}\n\nfunction createSetter(shallow = false) {\n  return function set(target, key, value, receiver) {\n\n    const oldValue = target[key]; // 获取老的值\n\n    let hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target,key);\n\n    const result = Reflect.set(target, key, value, receiver); // target[key] = value\n\n\n    if(!hadKey){\n        // 新增 \n        trigger(target,TriggerOrTypes.ADD,key,value);\n    }else if(hasChanged(oldValue,value)){\n        // 修改 \n        trigger(target,TriggerOrTypes.SET,key,value,oldValue)\n    }\n\n\n    // 我们要区分是新增的 还是修改的  vue2 里无法监控更改索引，无法监控数组的长度变化  -》 hack的方法 需要特殊处理\n\n\n    // 当数据更新时 通知对应属性的effect重新执行\n\n\n    return result;\n}\n}\n","import { isObject } from \"@vue/shared\";\nimport { mutableHandlers, readonlyHandlers, shallowReactiveHandlers, shallowReadonlyHandlers } from \"./baseHandlers\";\n\nexport const reactive = (target) => {\n  return createReactiveObject(target, false, mutableHandlers);\n};\n\nexport const shallowReactive = (target) => {\n  return createReactiveObject(target, false, shallowReactiveHandlers);\n};\n\nexport const shallowReadonly = (target) => {\n  return createReactiveObject(target, true, readonlyHandlers);\n};\n\nexport const readonly = (target) => {\n  return createReactiveObject(target, true, shallowReadonlyHandlers);\n};\n\nconst reactiveMap = new WeakMap(); // 会自动垃圾回收，不会造成内存泄漏， 存储的key只能是对\nconst readonlyMap = new WeakMap();\n\nexport function createReactiveObject(target, isReadonly, baseHandlers) {\n  // 如果目标不是对象 没法拦截了，reactive这个api只能拦截对象类型\n  // 其他的边界考虑\n  if (!isObject(target)) {\n    return target;\n  }\n  const proxyMap = isReadonly ? readonlyMap : reactiveMap;\n  const existProxy = proxyMap.get(target);\n  if (existProxy) {\n    return existProxy; // 如果已经被代理了 直接返回即可\n  }\n  console.log('baseHandlers', baseHandlers)\n  const proxy  = new Proxy(target, baseHandlers);\n  proxyMap.set(target, proxy)\n  return proxy\n}\n","import { hasChanged, isArray, isObject } from \"@vue/shared/src\";\nimport { track, trigger } from \"./effect\";\nimport { TrackOpTypes, TriggerOrTypes } from \"./operators\";\nimport { reactive } from \"./reactive\";\n\nexport function ref(value) {\n  // 将普通类型变相一个对象， 使用 对象的 get set 方法\n  return createRef(value);\n}\n\nexport function shallowRef(value) {\n  return createRef(value, true)\n}\n\nconst convert = (val) => (isObject(val) ? reactive(val) : val);\n\nclass RefImpl {\n  private _value;\n  public __v_isRef = true; // 产生的实例会被添加 __v_isRef 表示是一个ref属性\n  constructor(public rawValue, public shallow) {\n    this._value = shallow ? rawValue : convert(rawValue);\n  }\n  get value() {\n    track(this, TrackOpTypes.GET, \"value\");\n    return this._value;\n  }\n  set value(newValue) {\n    if (hasChanged(newValue, this.rawValue)) {\n      // 判断老值和新值是否有变化\n      this.rawValue = newValue; // 新值会作为老值\n      this._value = this.shallow ? newValue : convert(newValue);\n      trigger(this, TriggerOrTypes.SET, \"value\", newValue);\n    }\n  }\n}\n\nfunction createRef(rawValue, shallow = false) {\n  return new RefImpl(rawValue, shallow);\n}\n\nclass ObjectRefImpl {\n  public __v_isRef = true;\n  constructor(public target, public key) {}\n  get value(){ // 代理  \n      return this.target[this.key] // 如果原对象是响应式的就会依赖收集\n  }\n  set value(newValue){\n      this.target[this.key] = newValue; // 如果原来对象是响应式的 那么就会触发更新\n  }\n}\n\n// 将响应式对象的某一个key对应的值 转化成ref \nexport function toRef(target, key) { // 可以把一个对象的值转化成 ref类型\n  return new ObjectRefImpl(target, key)\n}\n\nexport function toRefs(object){ // object 可能传递的是一个数组 或者对象\n  const ret = isArray(object) ? new Array(object.length) :{}\n  for(let key in object){\n      ret[key] = toRef(object,key);\n  }\n  return ret;\n}\n\n","import { isFunction } from \"@vue/shared/src\";\nimport { effect, track, trigger } from \"./effect\";\nimport { TrackOpTypes, TriggerOrTypes } from \"./operators\";\n\nclass ComputedRefImpl {\n  private _dirty = true;\n  public _value;\n  public effect;\n  constructor(getter, public setter) {\n    this.effect = effect(getter, {\n      lazy: true, // 默认不执行\n      scheduler: () => {\n        // 走到这一步的话 证明 值反生修改\n        if(!this._dirty){\n          console.log('>>>')\n          this._dirty = true\n          trigger(this,TriggerOrTypes.SET,'value') \n        }\n      }\n    });\n  }\n\n  get value() {\n    // 执行 effect\n    trigger(this,TriggerOrTypes.SET,'value')\n    if(this._dirty){\n      this._value = this.effect();\n      this._dirty = false\n    }\n    track(this,TrackOpTypes.GET,'value')\n    return this._value;\n  }\n  set value(newValue) {\n    this.setter(newValue);\n  }\n}\n\n/**\n *  接受 getter setter 或者一个 function\n */\nexport function computed(getterOrOptions) {\n  let getter;\n  let setter;\n  if (isFunction(getterOrOptions)) {\n    getter = getterOrOptions;\n    setter = () => {\n      console.warn(\"computed value must be readonly\");\n    };\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n\n  return new ComputedRefImpl(getter, setter);\n}\n","import { isArray, isObject, isString, ShapeFlags } from \"@vue/shared\"\n\nexport function isVnode(vnode){\n  return vnode.__v_isVnode\n}\n// h(‘div',{style:{color:red}},'children'); //  h方法和createApp类似\nexport const createVNode = (type, props, children = null) => {\n  // 可以 根据 type 来区分是组件还是 普通组件\n\n  // 根据type来区分 是元素还是组件\n\n  // 虚拟DOM 肯定有一个蕾西\n  const shapeFlag = isString(type) ? ShapeFlags.ELEMENT : isObject(type) ? ShapeFlags.STATEFUL_COMPONENT : 0\n  const vnode = { // 一个对象\n    __v_isVnode: true,\n    type,\n    props,\n    children,\n    component: null, //存放组件实例\n    el: null, // 真实dom\n    key: props && props.key, // diff 算法\n    shapeFlag // 判断自己的类型 和 儿子的类型 ； 主要是为了看儿子的类型是啥，做分别的处理， 父的类型是和子 不相同的\n  }\n  normalizeChildren(vnode, children);\n  return  vnode;\n}\n\nfunction normalizeChildren(vnode,children){\n  console.log('normalizeChildren', children)\n  let type = 0;\n  if(children == null){ // 不对儿子进行处理\n\n  } else if(isArray(children)){\n      type = ShapeFlags.ARRAY_CHILDREN;\n  } else{\n      type = ShapeFlags.TEXT_CHILDREN;\n  }\n  vnode.shapeFlag |=  type\n}\n\nexport const Text = Symbol('Text')\nexport function normalizeVNode(child){\n  if(isObject(child)) return child;\n\n  return createVNode(Text,null,String(child));\n}","// import { createVNode } from \"./vnode\"\n\nimport { createVNode } from \"./vnode\"\n\nexport function createAppAPI(render){\n    return function createApp(rootComponent,rootProps){ // 告诉他那个组件那个属性来创建的应用\n      console.log('>>>>>>')\n        const app = {\n            _props:rootProps,\n            _component:rootComponent,\n            _container:null,\n            mount(container){ // 挂载的目的地\n                // let vnode = {}\n                // render(vnode,container);\n\n                // 1.根据组件创建虚拟节点\n                // 2.将虚拟节点和容器获取到后调用render方法进行渲染\n\n                // 创造虚拟节点\n                const vnode = createVNode(rootComponent,rootProps)\n\n                // // 调用render\n                render(vnode,container)\n\n\n                app._container = container\n            }\n        }\n        return app\n    }\n}","import { hasOwn } from \"@vue/shared/src\"\n\nexport const PublicInstanceProxyHandlers = {\n    get({ _: instance }, key) {\n        // 取值时 要访问 setUpState， props ,data\n        const { setupState, props, data } = instance;\n        if (key[0] == '$') {\n            return; // 不能访问$ 开头的变量\n        }\n        if (hasOwn(setupState, key)) {\n            return setupState[key];\n        } else if (hasOwn(props, key)) {\n            return props[key];\n        } else if (hasOwn(data, key)) {\n            return data[key];\n        }\n    },\n    set({ _: instance }, key, value) {\n        const { setupState, props, data } = instance;\n        if (hasOwn(setupState, key)) {\n            setupState[key] = value;\n        } else if (hasOwn(props, key)) {\n            props[key] = value;\n        } else if (hasOwn(data, key)) {\n            data[key] = value;\n        }\n        return true;\n    }\n}","import { isFunction, isObject, ShapeFlags } from \"@vue/shared\";\nimport { PublicInstanceProxyHandlers } from \"./componentPublicInstance\";\n\nexport function createComponentInstance(vnode) {\n  // webcomponent 组件需要有“属性” “插槽”\n  const instance = { // 组件的实例\n      vnode,\n      type: vnode.type, // 用户写的对象\n      props: {}, // props attrs 有什么区别 vnode.props\n      attrs: {},\n      slots: {},\n      ctx: {},\n      data:{},\n      setupState: {}, // 如果setup返回一个对象，这个对象会作为setUpstate\n      render: null,\n      subTree:null, // render函数的返回结果就是subTree\n      isMounted: false // 表示这个组件是否挂载过\n  }\n  instance.ctx = { _: instance } // instance.ctx._\n  return instance;\n}\n\nexport function setupComponent(instance) {\n  const { props, children } = instance.vnode; // {type,props,children}\n\n  // 根据props 解析出 props 和 attrs，将其放到instance上\n  instance.props = props; // initProps()\n  instance.children = children; // 插槽的解析 initSlot()\n\n  // 需要先看下 当前组件是不是有状态的组件， 函数组件\n\n  let isStateful = instance.vnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT\n  if (isStateful) { // 表示现在是一个带状态的组件\n      // 调用 当前实例的setup方法，用setup的返回值 填充 setupState和对应的render方法\n      setupStatefulComponent(instance)\n  }\n}\nfunction setupStatefulComponent(instance) {\n  // 1.代理 传递给render函数的参数\n  instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers as any)\n  // 2.获取组件的类型 拿到组件的setup方法\n  let Component = instance.type\n  let { setup } = Component;\n  // ------ 没有setup------\n  if(setup){\n      let setupContext = createSetupContext(instance);\n      const setupResult = setup(instance.props, setupContext); // instance 中props attrs slots emit expose 会被提取出来，因为在开发过程中会使用这些属性\n\n      handleSetupResult(instance,setupResult)\n\n  }else{\n      finishComponentSetup(instance);// 完成组件的启动\n  }\n}\n\nfunction handleSetupResult(instance,setupResult){\n  if(isFunction(setupResult)){\n      instance.render = setupResult\n  }else if(isObject(setupResult)){\n      instance.setupState = setupResult\n  }\n  finishComponentSetup(instance);\n}\n\nfunction finishComponentSetup(instance){\n  let Component = instance.type\n  if(!instance.render){\n      // 对template模板进行编译 产生render函数\n      // instance.render = render;// 需要将生成render函数放在实例上\n      if(!Component.render && Component.template){\n          // 编译 将结果 赋予给Component.render\n      }\n      instance.render = Component.render;\n  }\n\n  // 对vue2.0API做了兼容处理\n  // applyOptions \n}\n\nfunction createSetupContext(instance) {\n  return {\n      attrs: instance.attrs,\n      slots: instance.slots,\n      emit: () => { },\n      expose: () => { }\n  }\n}\n","let queue = [];\nexport function queueJob(job) {\n  console.log('job--', job)\n    if(!queue.includes(job)){\n        queue.push(job);\n        queueFlush();\n    }\n}\nlet isFlushPending = false;\nfunction queueFlush(){\n    if(!isFlushPending){\n        isFlushPending = true;\n        Promise.resolve().then(flushJobs)\n    }\n}\n\nfunction flushJobs(){\n  isFlushPending = false\n  // 清空时  我们需要根据调用的顺序依次刷新  , 保证先刷新父在刷新子\n  queue.sort((a,b) => a.id - b.id);\n  for(let i = 0; i < queue.length; i++){\n      const job = queue[i];\n      job();\n  }\n  queue.length = 0;\n}","import { effect } from \"@vue/reactivity\";\nimport { ShapeFlags } from \"@vue/shared\";\nimport { createAppAPI } from \"./apiCreateApp\";\nimport { createComponentInstance, setupComponent } from \"./component\";\nimport { queueJob } from \"./scheduler\";\nimport { normalizeVNode, Text } from \"./vnode\";\n\nexport function createRenderer(rendererOptions) {\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n  } = rendererOptions;\n  // -------------------组件----------------------\n  const setupRenderEfect = (instance, container) => {\n    console.log(\"instance\", instance);\n    effect(function componentEffect() {\n      if (!instance.isMounted) {\n        // 初次渲染\n        let proxyToUse = instance.proxy;\n        let subTree = (instance.subTree = instance.render.call(\n          proxyToUse,\n          proxyToUse\n        ));\n\n        // 用render函数的返回值 继续渲染\n        patch(null, subTree, container);\n        instance.isMounted = true;\n      } else {\n        // diff算法  （核心 diff + 序列优化 watchApi 生命周期）\n        // ts 一周\n        // 组件库\n        // 更新逻辑\n        console.log('开始更新---')\n      }\n    }, {\n      scheduler: queueJob\n    });\n  };\n  const mountComponent = (initialVNode, container) => {\n    // 组件的渲染流程  最核心的就是调用 setup拿到返回值，获取render函数返回的结果来进行渲染\n    // 1.先有实例\n    const instance = (initialVNode.component =\n      createComponentInstance(initialVNode));\n    // 2.需要的数据解析到实例上\n    setupComponent(instance); // state props attrs render ....\n    // 3.创建一个effect 让render函数执行\n    setupRenderEfect(instance, container);\n  };\n\n  const processComponent = (n1, n2, container) => {\n    if (n1 == null) {\n      // 组件没有上一次的虚拟节点\n      mountComponent(n2, container);\n    } else {\n      // 组件更新流程\n    }\n  };\n\n  // ------------------组件 ------------------\n\n  //----------------- 处理元素-----------------\n\n  // 处理元素\n  const mountChildren = (children, container) => {\n    for (let i = 0; i < children.length; i++) {\n\n        let child = normalizeVNode(children[i]);\n        patch(null, child, container);\n    }\n}\n  const mountElement = (vnode, container) => {\n    // 递归渲染\n    const { props, shapeFlag, type, children } = vnode;\n    let el = (vnode.el = hostCreateElement(type));\n\n    if (props) {\n      for (const key in props) {\n        hostPatchProp(el, key, null, props[key]);\n      }\n    }\n    console.log(\"ShapeFlags.TEXT_CHILDREN\", ShapeFlags.TEXT_CHILDREN);\n    console.log(\"shapeFlag\", shapeFlag);\n    console.log(shapeFlag & ShapeFlags.TEXT_CHILDREN);\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n        hostSetElementText(el, children);// 文本比较简单 直接扔进去即可\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        mountChildren(children, el);\n    }\n    hostInsert(el, container);\n  };\n  const processElement = (n1, n2, container) => {\n    if (n1 == null) {\n      mountElement(n2, container);\n    } else {\n      // 元素更新\n    }\n  };\n\n  //----------------- 处理元素-----------------\n\n  // -----------------文本处理-----------------\n  const processText = (n1, n2, container) => {\n    if (n1 == null) {\n      hostInsert((n2.el = hostCreateText(n2.children)), container);\n    }\n  };\n\n  const patch = (n1, n2, container) => {\n    const { shapeFlag, type } = n2;\n    console.log(\"n2\", n2);\n    switch (type) {\n      case Text:\n        // 操作text\n        processText(n1, n2, container);\n        break;\n      default:\n        if (shapeFlag & ShapeFlags.ELEMENT) {\n          processElement(n1, n2, container);\n        } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n          processComponent(n1, n2, container);\n        }\n    }\n  };\n\n  // 告诉core 怎么渲染\n  const render = (vnode, container) => {\n    // core的核心, 根据不同的虚拟节点 创建对应的真实元素\n    // 默认调用render 可能是初始化流程\n    patch(null, vnode, container);\n  };\n  return {\n    createApp: createAppAPI(render),\n  };\n}\n","import { createVNode } from \"@vue/runtime-dom\";\nimport { isArray, isObject } from \"@vue/shared\";\nimport { isVnode } from \"./vnode\";\n\nexport function h(type, propsOrChildren, children) {\n  const l = arguments.length;\n\n  if (l == 2) {\n    // 类型 + 属性 、  类型 + 孩子\n    // 如果propsOrChildren 是数组 直接作为第三个参数\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      if (isVnode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      return createVNode(type, propsOrChildren);\n    } else {\n      // 如果第二个参数 不是对象 那一定是孩子\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVnode(children)) {\n      children = [children];\n    }\n    return createVNode(type, propsOrChildren, children);\n  }\n}\n","// runtime-dom 核心就是  提供domAPI方法了\n//操作节点、操作属性的更新\n// 节点操作就是增删改查 \n// 属性操作 添加 删除 更新 (样式、类、事件、其他属性)\nimport { extend } from \"@vue/shared/src\";\nimport { nodeOps } from \"./nodeOps\"; // 对象\nimport { patchProp } from \"./patchProp\"; // 方法\nimport { createRenderer } from '@vue/runtime-core/src'\n\n\n// 渲染时用到的所有方法\nconst rendererOptions = extend({ patchProp }, nodeOps)\n\n// vue中runtime-core 提供了核心的方法 用来处理渲染的，他会使用runtime-dom中的api进行渲染\nexport function createApp(rootComponent, rootProps = null) {\n  const app: any = createRenderer(rendererOptions).createApp(rootComponent,rootProps)\n  let {mount} = app\n  app.mount = function (container) {\n      // // 清空容器的操作 \n      container = nodeOps.querySelector(container);\n      container.innerHTML = '';\n      mount(container); // 函数劫持\n      \n  }\n  return app;\n}\n\nexport * from '@vue/runtime-core';\nexport default {}"],"names":[],"mappings":"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"}